{
  "test_suite": "智能雨刷硬件测试用例",
  "version": "1.0",
  "description": "用于测试真实硬件设备的标准测试用例集合",
  "test_cases": [
    {
      "id": "HW_001",
      "name": "雨刷关闭命令测试",
      "description": "测试硬件设备处理雨刷关闭命令",
      "input": {
        "wiper_control": "off",
        "timestamp": 1748914005,
        "source": "hardware_test",
        "command_id": "hw_test_001",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "off",
          "message": "雨刷已切换到关闭模式",
          "timestamp": "ISO_FORMAT",
          "command_id": "hw_test_001",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 0",
        "data.wiper_status must be 'off'",
        "data.command_id must match input",
        "data.timestamp must be valid ISO format"
      ]
    },
    {
      "id": "HW_002", 
      "name": "雨刷低速命令测试",
      "description": "测试硬件设备处理雨刷低速命令",
      "input": {
        "wiper_control": "low",
        "timestamp": 1748914010,
        "source": "hardware_test",
        "command_id": "hw_test_002",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "low",
          "previous_status": "off",
          "message": "雨刷已切换到低速模式",
          "timestamp": "ISO_FORMAT",
          "battery_level": "INTEGER_0_100",
          "signal_strength": "INTEGER_0_100",
          "command_id": "hw_test_002",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 0",
        "data.wiper_status must be 'low'",
        "data.previous_status must be valid",
        "data.battery_level must be 0-100",
        "data.signal_strength must be 0-100"
      ]
    },
    {
      "id": "HW_003",
      "name": "雨刷高速命令测试", 
      "description": "测试硬件设备处理雨刷高速命令",
      "input": {
        "wiper_control": "high",
        "timestamp": 1748914015,
        "source": "hardware_test",
        "command_id": "hw_test_003",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "high",
          "previous_status": "low",
          "message": "雨刷已切换到高速模式",
          "timestamp": "ISO_FORMAT",
          "battery_level": "INTEGER_0_100",
          "signal_strength": "INTEGER_0_100",
          "command_id": "hw_test_003",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 0",
        "data.wiper_status must be 'high'",
        "data.previous_status must be valid"
      ]
    },
    {
      "id": "HW_004",
      "name": "雨刷智能命令测试",
      "description": "测试硬件设备处理雨刷智能模式命令",
      "input": {
        "wiper_control": "smart",
        "timestamp": 1748914020,
        "source": "hardware_test", 
        "command_id": "hw_test_004",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "smart",
          "previous_status": "high",
          "message": "雨刷已切换到智能模式",
          "timestamp": "ISO_FORMAT",
          "battery_level": "INTEGER_0_100",
          "signal_strength": "INTEGER_0_100",
          "command_id": "hw_test_004",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 0",
        "data.wiper_status must be 'smart'",
        "data.previous_status must be valid"
      ]
    },
    {
      "id": "HW_005",
      "name": "雨刷间歇命令测试",
      "description": "测试硬件设备处理雨刷间歇模式命令",
      "input": {
        "wiper_control": "interval",
        "timestamp": 1748914025,
        "source": "hardware_test",
        "command_id": "hw_test_005", 
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "interval",
          "previous_status": "smart",
          "message": "雨刷已切换到间歇模式",
          "timestamp": "ISO_FORMAT",
          "battery_level": "INTEGER_0_100",
          "signal_strength": "INTEGER_0_100",
          "command_id": "hw_test_005",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 0",
        "data.wiper_status must be 'interval'",
        "data.previous_status must be valid"
      ]
    },
    {
      "id": "HW_006",
      "name": "状态查询命令测试",
      "description": "测试硬件设备处理状态查询命令",
      "input": {
        "wiper_status_query": true,
        "timestamp": 1748914030,
        "source": "hardware_test",
        "command_id": "hw_test_006",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "CURRENT_STATUS",
          "message": "当前雨刷状态: CURRENT_STATUS_TEXT",
          "timestamp": "ISO_FORMAT",
          "battery_level": "INTEGER_0_100",
          "signal_strength": "INTEGER_0_100",
          "command_id": "hw_test_006",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 0",
        "data.wiper_status must be valid status",
        "data.message must contain status description"
      ]
    },
    {
      "id": "HW_007",
      "name": "无效命令错误测试",
      "description": "测试硬件设备处理无效命令的错误响应",
      "input": {
        "wiper_control": "invalid_command",
        "timestamp": 1748914035,
        "source": "hardware_test",
        "command_id": "hw_test_007",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 1,
        "error": "无效的雨刷命令: invalid_command",
        "message": "命令必须是以下值之一: off, interval, low, high, smart",
        "command_id": "hw_test_007"
      },
      "validation_rules": [
        "errno must be 1",
        "error field must be present",
        "message field must be present",
        "command_id must match input"
      ]
    },
    {
      "id": "HW_008",
      "name": "未知命令错误测试",
      "description": "测试硬件设备处理未知命令格式的错误响应",
      "input": {
        "unknown_command": "test",
        "timestamp": 1748914040,
        "source": "hardware_test",
        "command_id": "hw_test_008",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 2,
        "error": "Unknown command",
        "message": "未知的命令类型",
        "received_data": {
          "unknown_command": "test",
          "timestamp": 1748914040,
          "source": "hardware_test",
          "command_id": "hw_test_008",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "errno must be 2",
        "error must be 'Unknown command'",
        "received_data must contain original input"
      ]
    },
    {
      "id": "HW_009",
      "name": "JSON格式错误测试",
      "description": "测试硬件设备处理无效JSON格式的错误响应",
      "input": "INVALID_JSON_STRING",
      "expected_output": {
        "errno": 1,
        "error": "Invalid JSON format",
        "message": "命令格式错误"
      },
      "validation_rules": [
        "errno must be 1",
        "error must indicate JSON format error"
      ]
    },
    {
      "id": "HW_010",
      "name": "命令ID追踪测试",
      "description": "测试硬件设备正确处理和返回命令ID",
      "input": {
        "wiper_control": "off",
        "timestamp": 1748914045,
        "source": "hardware_test",
        "command_id": "unique_command_id_12345",
        "user": "hardware_test"
      },
      "expected_output": {
        "errno": 0,
        "data": {
          "wiper_status": "off",
          "command_id": "unique_command_id_12345",
          "user": "hardware_test"
        }
      },
      "validation_rules": [
        "data.command_id must exactly match input command_id",
        "data.user must exactly match input user"
      ]
    }
  ],
  "performance_requirements": {
    "max_response_time_ms": 2000,
    "max_memory_usage_kb": 1024,
    "min_success_rate_percent": 95
  },
  "environment_requirements": {
    "network_connectivity": "required",
    "onenet_platform_access": "required",
    "device_authentication": "required"
  },
  "notes": [
    "所有时间戳应使用ISO 8601格式",
    "电池电量和信号强度应在0-100范围内",
    "命令ID应在响应中原样返回",
    "错误响应应包含详细的错误信息",
    "硬件应能处理并发命令请求"
  ]
}
